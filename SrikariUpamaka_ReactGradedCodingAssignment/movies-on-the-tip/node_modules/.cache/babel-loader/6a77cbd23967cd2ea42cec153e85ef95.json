{"ast":null,"code":"import axios from \"axios\";\n// REACT_APP_API_BASE_URL =\"http://localhost:3001\"\nconst baseUrl = process.env.REACT_APP_API_BASE_URL;\n\nconst getMovies = async moviesCategory => {\n  const response = await axios.get(`${baseUrl}/${moviesCategory}`);\n  return response.data;\n};\n\nconst getMovieByTitle = async (moviesCategory, title) => {\n  const response = await axios.get(`${baseUrl}/${moviesCategory}/?title=${title}`);\n\n  if (response.data === null || response.data.length === 0) {\n    return null;\n  }\n\n  return response.data[0];\n};\n\nconst addMovie = async (moviesCategory, movie) => {\n  return axios.post(`${baseUrl}/${moviesCategory}`, movie, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => response.data);\n};\n\nconst deleteMovieById = async (moviesCategory, id) => {\n  const response = await axios.delete(`${baseUrl}/${moviesCategory}/${id}`);\n  return response.data;\n};\n\nconst getHigestMovieId = async moviesCategory => {\n  var _response$data$0$id;\n\n  const response = await axios.get(`${baseUrl}/${moviesCategory}?_sort=id&_order=desc`);\n\n  if (response.data === null || response.data.length === 0) {\n    return 0;\n  }\n\n  return (_response$data$0$id = response.data[0].id) !== null && _response$data$0$id !== void 0 ? _response$data$0$id : 0;\n};\n\nexport { getMovies, getMovieByTitle, addMovie, deleteMovieById, getHigestMovieId };","map":{"version":3,"names":["axios","baseUrl","process","env","REACT_APP_API_BASE_URL","getMovies","moviesCategory","response","get","data","getMovieByTitle","title","length","addMovie","movie","post","headers","then","deleteMovieById","id","delete","getHigestMovieId"],"sources":["C:/Users/SRIKARI/Downloads/DhirajThakre_React-Assignment-Solution-main/DhirajThakre_ReactGradedCodingAssignment/movies-on-the-tip/src/services/movieService.ts"],"sourcesContent":["import axios from \"axios\";\nimport MovieModel from \"../model/MovieModel\";\n\n// REACT_APP_API_BASE_URL =\"http://localhost:3001\"\nconst baseUrl = process.env.REACT_APP_API_BASE_URL;\n\nconst getMovies = async (moviesCategory: string) => {\n  const response = await axios.get<MovieModel[]>(`${baseUrl}/${moviesCategory}`);\n  return response.data;\n};\n\nconst getMovieByTitle = async (moviesCategory: string, title: string) => {\n  const response = await axios.get<MovieModel[]>(\n    `${baseUrl}/${moviesCategory}/?title=${title}`\n  );\n  if (response.data === null || response.data.length === 0) {\n    return null;\n  }\n  return response.data[0];\n};\n\nconst addMovie = async (moviesCategory: string, movie: MovieModel) => {\n  return axios\n    .post<MovieModel[]>(`${baseUrl}/${moviesCategory}`, movie, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n    .then((response) => response.data);\n};\n\nconst deleteMovieById = async (moviesCategory: string, id: string | number) => {\n  const response = await axios.delete<MovieModel>(\n    `${baseUrl}/${moviesCategory}/${id}`\n  );\n  return response.data;\n};\n\nconst getHigestMovieId = async (moviesCategory: string) => {\n  const response = await axios.get<MovieModel[]>(\n    `${baseUrl}/${moviesCategory}?_sort=id&_order=desc`\n  );\n\n  if (response.data === null || response.data.length === 0) {\n    return 0;\n  }\n  return response.data[0].id ?? 0;\n};\n\nexport {\n  getMovies,\n  getMovieByTitle,\n  addMovie,\n  deleteMovieById,\n  getHigestMovieId,\n};\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,sBAA5B;;AAEA,MAAMC,SAAS,GAAG,MAAOC,cAAP,IAAkC;EAClD,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAyB,GAAEP,OAAQ,IAAGK,cAAe,EAArD,CAAvB;EACA,OAAOC,QAAQ,CAACE,IAAhB;AACD,CAHD;;AAKA,MAAMC,eAAe,GAAG,OAAOJ,cAAP,EAA+BK,KAA/B,KAAiD;EACvE,MAAMJ,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CACpB,GAAEP,OAAQ,IAAGK,cAAe,WAAUK,KAAM,EADxB,CAAvB;;EAGA,IAAIJ,QAAQ,CAACE,IAAT,KAAkB,IAAlB,IAA0BF,QAAQ,CAACE,IAAT,CAAcG,MAAd,KAAyB,CAAvD,EAA0D;IACxD,OAAO,IAAP;EACD;;EACD,OAAOL,QAAQ,CAACE,IAAT,CAAc,CAAd,CAAP;AACD,CARD;;AAUA,MAAMI,QAAQ,GAAG,OAAOP,cAAP,EAA+BQ,KAA/B,KAAqD;EACpE,OAAOd,KAAK,CACTe,IADI,CACgB,GAAEd,OAAQ,IAAGK,cAAe,EAD5C,EAC+CQ,KAD/C,EACsD;IACzDE,OAAO,EAAE;MACP,gBAAgB;IADT;EADgD,CADtD,EAMJC,IANI,CAMEV,QAAD,IAAcA,QAAQ,CAACE,IANxB,CAAP;AAOD,CARD;;AAUA,MAAMS,eAAe,GAAG,OAAOZ,cAAP,EAA+Ba,EAA/B,KAAuD;EAC7E,MAAMZ,QAAQ,GAAG,MAAMP,KAAK,CAACoB,MAAN,CACpB,GAAEnB,OAAQ,IAAGK,cAAe,IAAGa,EAAG,EADd,CAAvB;EAGA,OAAOZ,QAAQ,CAACE,IAAhB;AACD,CALD;;AAOA,MAAMY,gBAAgB,GAAG,MAAOf,cAAP,IAAkC;EAAA;;EACzD,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,GAAN,CACpB,GAAEP,OAAQ,IAAGK,cAAe,uBADR,CAAvB;;EAIA,IAAIC,QAAQ,CAACE,IAAT,KAAkB,IAAlB,IAA0BF,QAAQ,CAACE,IAAT,CAAcG,MAAd,KAAyB,CAAvD,EAA0D;IACxD,OAAO,CAAP;EACD;;EACD,8BAAOL,QAAQ,CAACE,IAAT,CAAc,CAAd,EAAiBU,EAAxB,qEAA8B,CAA9B;AACD,CATD;;AAWA,SACEd,SADF,EAEEK,eAFF,EAGEG,QAHF,EAIEK,eAJF,EAKEG,gBALF"},"metadata":{},"sourceType":"module"}